name: MAIN Workflow

on:  
  push:  
    branches:  
      - main  
  pull_request:  

jobs:  
  run-tests:  
    uses: kirandevops1993/VS-TEST-REUSABLE/.github/workflows/VStest-reusable.yml@main  
    with:  
      dotnet-version: "7.0.x"  
      test-assembly: "**/*Tests.dll"  
      code-coverage-enabled: true  
      configuration: "Release"  
      platform: "x64"  
      test-run-title: "Unit Tests"  
      custom-test-adapters: "./path/to/existing/adapters"  # Properly formatted dummy path  
      run-in-parallel: true  
      testPlan: "Plan1"  # Removed unnecessary quotes  
      testSuite: "SuiteA"  # Removed unnecessary quotes  
      testConfiguration: "DebugConfig"  # Removed unnecessary quotes  
      tcmTestRun: "1234"  # Removed unnecessary quotes  
      uiTests: false  
      vsTestVersion: "latest"  # Removed unnecessary quotes  
      vstestLocation: C:/vstest.console.exe  # Removed unnecessary quotes  
      diagnosticsEnabled: true  
      collectDumpOn: "onAbortOnly"  # Removed unnecessary quotes  
      rerunFailedTests: true  
      rerunType: "specific"  # Removed unnecessary quotes  
      rerunMaxAttempts: "3"  # Removed unnecessary quotes  
      dontDistribute: false
